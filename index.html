<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What's Your Attachment Pattern? | Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .quiz-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
            position: relative;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .question-counter {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        h1 {
            color: #2d3748;
            font-size: 28px;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .subtitle {
            color: #718096;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .benefits {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .benefits p {
            color: #4a5568;
            margin: 8px 0;
            display: flex;
            align-items: center;
        }

        .benefits p::before {
            content: "‚úì";
            color: #667eea;
            font-weight: bold;
            margin-right: 10px;
        }

        .question-text {
            color: #2d3748;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .option:hover {
            border-color: #667eea;
            background: #edf2f7;
            transform: translateX(5px);
        }

        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .option label {
            cursor: pointer;
            flex: 1;
            color: #2d3748;
            font-size: 16px;
            line-height: 1.5;
            -webkit-tap-highlight-color: transparent;
        }

        .option.selected {
            background: #edf2f7;
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            min-height: 48px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .hidden {
            display: none;
        }

        .email-gate {
            text-align: center;
        }

        .email-gate h2 {
            color: #2d3748;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .email-gate p {
            color: #718096;
            margin-bottom: 25px;
            font-size: 16px;
        }

        input[type="email"] {
            width: 100%;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border-color 0.2s;
        }

        input[type="email"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result-container {
            text-align: center;
        }

        .result-badge {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 30px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 32px;
            color: #2d3748;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .scores {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }

        .score-box {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            flex: 1;
            max-width: 150px;
        }

        .score-label {
            font-size: 12px;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-value {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-top: 5px;
        }

        .result-description {
            text-align: left;
            margin: 30px 0;
            line-height: 1.8;
            color: #4a5568;
        }

        .result-description h3 {
            color: #2d3748;
            margin: 25px 0 15px;
        }

        .result-description ul, .result-description ol {
            margin-left: 20px;
        }

        .result-description li {
            margin: 8px 0;
        }

        .cta-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .cta-box h3 {
            margin-bottom: 15px;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            .quiz-container {
                padding: 20px;
                border-radius: 15px;
            }

            h1 {
                font-size: 22px;
                margin-bottom: 12px;
            }

            .subtitle {
                font-size: 14px;
                margin-bottom: 20px;
            }

            .question-text {
                font-size: 17px;
                margin-bottom: 20px;
            }

            .option {
                padding: 14px 16px;
                font-size: 15px;
            }

            .option label {
                font-size: 15px;
                line-height: 1.4;
            }

            button {
                padding: 14px 24px;
                font-size: 15px;
            }

            .buttons {
                gap: 10px;
                margin-top: 25px;
            }

            .scores {
                flex-direction: column;
                gap: 12px;
            }

            .score-box {
                max-width: 100%;
                padding: 16px;
            }

            .result-title {
                font-size: 24px;
                line-height: 1.3;
            }

            .result-description {
                font-size: 15px;
                line-height: 1.7;
            }

            .result-description h3 {
                font-size: 18px;
                margin: 20px 0 12px;
            }

            .cta-box {
                padding: 20px;
            }

            .cta-box h3 {
                font-size: 18px;
            }

            .cta-box p {
                font-size: 14px;
                line-height: 1.6;
            }

            .benefits {
                padding: 16px;
                margin-bottom: 20px;
            }

            .benefits p {
                font-size: 14px;
            }

            .email-gate h2 {
                font-size: 20px;
            }

            .email-gate p {
                font-size: 14px;
            }

            input[type="email"] {
                padding: 14px;
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- Welcome Screen -->
        <div id="welcome-screen">
            <h1>What's Your Attachment Pattern?</h1>
            <p class="subtitle">Take this 3-minute quiz to find out which of the 6 patterns you're running.</p>
            
            <div class="benefits">
                <p>Your exact attachment style</p>
                <p>Why you feel the way you do</p>
                <p>What to do next</p>
            </div>

            <p style="color: #718096; margin-bottom: 30px;"><strong>15 questions. Brutally honest results.</strong></p>

            <button class="btn-primary" onclick="startQuiz()">START QUIZ</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            <div class="question-counter" id="counter"></div>
            
            <div class="question-text" id="question"></div>
            <div class="options" id="options"></div>

            <div class="buttons">
                <button class="btn-secondary hidden" id="prevBtn" onclick="previousQuestion()">‚Üê BACK</button>
                <button class="btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>NEXT ‚Üí</button>
            </div>
        </div>

        <!-- Email Gate -->
        <div id="email-screen" class="hidden">
            <div class="email-gate">
                <h2>üìä Calculating Your Results...</h2>
                <p>Enter your email to see your personalized results</p>
                
                <div class="benefits" style="text-align: left;">
                    <p>Your attachment pattern breakdown</p>
                    <p>Why you feel the way you do</p>
                    <p>Personalized action plan</p>
                    <p>Access to the full 12-episode series</p>
                </div>

                <input type="email" id="emailInput" placeholder="your@email.com" required>
                <button class="btn-primary" onclick="submitEmail()">SEE MY RESULTS ‚Üí</button>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="hidden">
            <div class="loading">
                <div class="spinner"></div>
                <h2>Analyzing your responses...</h2>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="hidden">
            <div class="result-container">
                <div class="result-badge">YOUR RESULTS</div>
                <h2 class="result-title" id="resultTitle"></h2>
                
                <div class="scores">
                    <div class="score-box">
                        <div class="score-label">Anxious</div>
                        <div class="score-value" id="anxiousScore">0</div>
                    </div>
                    <div class="score-box">
                        <div class="score-label">Avoidant</div>
                        <div class="score-value" id="avoidantScore">0</div>
                    </div>
                    <div class="score-box">
                        <div class="score-label">Secure</div>
                        <div class="score-value" id="secureScore">0</div>
                    </div>
                </div>

                <div class="result-description" id="resultDescription"></div>

                <div class="cta-box">
                    <h3>What Happens Next:</h3>
                    <p>‚úÖ Episode 1 drops tomorrow at 6pm</p>
                    <p>‚úÖ Follow @bloombymimi on Instagram</p>
                    <p>‚úÖ Save the series - Don't miss any episodes</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                text: "When your partner needs space, you typically:",
                type: "radio",
                options: [
                    { text: "Feel immediate panic and try to fix whatever's wrong", anxious: 3 },
                    { text: "Give them space but feel anxious the entire time", anxious: 2 },
                    { text: "Feel relieved and use the time for yourself", secure: 2 },
                    { text: "Feel confused about whether they still want you", anxious: 2, avoidant: 1 },
                    { text: "Don't really notice or care much", avoidant: 3 }
                ]
            },
            {
                id: 2,
                text: "How often do you check your phone waiting for their text?",
                type: "radio",
                options: [
                    { text: "Never or rarely", avoidant: 2 },
                    { text: "Occasionally", secure: 1 },
                    { text: "Sometimes", secure: 1 },
                    { text: "Often", anxious: 2 },
                    { text: "Very frequently", anxious: 2 },
                    { text: "Almost constantly", anxious: 3 },
                    { text: "Constantly - it's the first thing I do", anxious: 3 }
                ]
            },
            {
                id: 3,
                text: "After a really great date or deep conversation, you usually:",
                type: "radio",
                options: [
                    { text: "Feel excited and want more closeness immediately", anxious: 2 },
                    { text: "Feel warm but slightly nervous about what comes next", anxious: 1, secure: 1 },
                    { text: "Feel good and look forward to seeing them again", secure: 2 },
                    { text: "Feel overwhelmed and need to pull back", avoidant: 3 },
                    { text: "Start analyzing if you said something wrong", anxious: 3 }
                ]
            },
            {
                id: 4,
                text: "When they don't text back for several hours, your first thought is:",
                type: "radio",
                options: [
                    { text: "They're probably busy, they'll respond when they can", secure: 2 },
                    { text: "What did I do wrong?", anxious: 3 },
                    { text: "Thank god, I needed a break anyway", avoidant: 2 },
                    { text: "They're losing interest, I can feel it", anxious: 3 },
                    { text: "Are they testing me?", anxious: 2 }
                ]
            },
            {
                id: 5,
                text: "In past relationships, you typically:",
                type: "radio",
                options: [
                    { text: "Leave when things get too serious", avoidant: 3 },
                    { text: "Stay way too long hoping they'll change", anxious: 3 },
                    { text: "End things when it's clearly not working", secure: 2 },
                    { text: "Get left by people who say you're 'too intense'", anxious: 2 },
                    { text: "Sabotage things when they get too close", avoidant: 3 }
                ]
            },
            {
                id: 6,
                text: "When they pull away emotionally, you: (Select all that apply)",
                type: "checkbox",
                options: [
                    { text: "Panic and try to fix it immediately", anxious: 2 },
                    { text: "Blame yourself for doing something wrong", anxious: 2 },
                    { text: "Feel relieved they're giving you space", avoidant: 2 },
                    { text: "Overanalyze every interaction to find the problem", anxious: 2 },
                    { text: "Pull away even harder yourself", avoidant: 2 },
                    { text: "Feel confused but give them time", secure: 1 },
                    { text: "Don't really notice or care", avoidant: 3 }
                ]
            },
            {
                id: 7,
                text: "How comfortable are you expressing your needs in relationships?",
                type: "radio",
                options: [
                    { text: "I never express needs", avoidant: 3 },
                    { text: "Very uncomfortable", avoidant: 3 },
                    { text: "Somewhat uncomfortable", anxious: 1, avoidant: 1 },
                    { text: "Neutral", anxious: 1, avoidant: 1 },
                    { text: "Somewhat comfortable", secure: 2 },
                    { text: "Comfortable", secure: 2 },
                    { text: "Very comfortable", secure: 2 }
                ]
            },
            {
                id: 8,
                text: "When you're upset with them, you typically:",
                type: "radio",
                options: [
                    { text: "Tell them immediately what's bothering you", secure: 2 },
                    { text: "Bottle it up and hope it goes away", avoidant: 2 },
                    { text: "Drop hints hoping they'll notice", anxious: 2 },
                    { text: "Shut down and create distance", avoidant: 3 },
                    { text: "Overthink it but eventually communicate", anxious: 1, secure: 1 }
                ]
            },
            {
                id: 9,
                text: "The idea of fully merging your life with someone makes you feel:",
                type: "radio",
                options: [
                    { text: "Excited and hopeful", secure: 2 },
                    { text: "Terrified of losing yourself", avoidant: 2 },
                    { text: "Happy but want to take it slow", secure: 2 },
                    { text: "Desperate to make it happen fast", anxious: 3 },
                    { text: "Suffocated just thinking about it", avoidant: 3 }
                ]
            },
            {
                id: 10,
                text: "When they're inconsistent with communication, you:",
                type: "radio",
                options: [
                    { text: "Accept it as their communication style", secure: 1, avoidant: 1 },
                    { text: "Feel anxious and check your phone constantly", anxious: 3 },
                    { text: "Match their energy and pull back too", avoidant: 2 },
                    { text: "Bring it up calmly and ask about it", secure: 2 },
                    { text: "Assume they're not interested anymore", anxious: 2 }
                ]
            },
            {
                id: 11,
                text: "How often do you sacrifice your own needs to keep the peace?",
                type: "radio",
                options: [
                    { text: "Never", avoidant: 2 },
                    { text: "Rarely", avoidant: 2 },
                    { text: "Sometimes", secure: 1 },
                    { text: "Often", anxious: 3 },
                    { text: "Very often", anxious: 3 },
                    { text: "Almost always", anxious: 3 },
                    { text: "Always", anxious: 3 }
                ]
            },
            {
                id: 12,
                text: "When they're going through something difficult, you:",
                type: "radio",
                options: [
                    { text: "Want to be there for them but give them space to ask", secure: 2 },
                    { text: "Feel helpless and overwhelmed by their emotions", anxious: 2 },
                    { text: "Jump in immediately to fix everything", anxious: 3 },
                    { text: "Feel uncomfortable and create distance", avoidant: 3 },
                    { text: "Support them but maintain your own boundaries", secure: 2 }
                ]
            },
            {
                id: 13,
                text: "How often do you replay conversations analyzing what went wrong?",
                type: "radio",
                options: [
                    { text: "Never", avoidant: 2 },
                    { text: "Rarely", avoidant: 2 },
                    { text: "Sometimes", secure: 1 },
                    { text: "Often", anxious: 3 },
                    { text: "Very often", anxious: 3 },
                    { text: "Almost constantly", anxious: 3 },
                    { text: "Constantly - I can't stop", anxious: 3 }
                ]
            },
            {
                id: 14,
                text: "In the relationship, you typically:",
                type: "radio",
                options: [
                    { text: "Chase them for attention and reassurance", anxious: 3 },
                    { text: "Run when things get too intimate", avoidant: 3 },
                    { text: "Have a balanced give and take", secure: 2 },
                    { text: "Over-give hoping they'll love you more", anxious: 3 },
                    { text: "Withdraw when they need you most", avoidant: 3 }
                ]
            },
            {
                id: 15,
                text: "The relationship pattern you notice most in your life:",
                type: "radio",
                options: [
                    { text: "I attract emotionally unavailable people", anxious: 3 },
                    { text: "People say I'm too distant or cold", avoidant: 2 },
                    { text: "I have mostly healthy, balanced relationships", secure: 2 },
                    { text: "I'm always the one who cares more", anxious: 3 },
                    { text: "I leave right when things get good", avoidant: 3 }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = [];
        let scores = { anxious: 0, avoidant: 0, secure: 0 };

        function startQuiz() {
            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('counter').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
            document.getElementById('question').textContent = q.text;
            
            const progress = ((currentQuestion) / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';

            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';

            q.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.onclick = () => selectOption(index, q.type);

                const input = document.createElement('input');
                input.type = q.type;
                input.name = 'question' + q.id;
                input.id = 'option' + index;
                input.value = index;

                const label = document.createElement('label');
                label.htmlFor = 'option' + index;
                label.textContent = option.text;

                optionDiv.appendChild(input);
                optionDiv.appendChild(label);
                optionsDiv.appendChild(optionDiv);
            });

            // Show/hide previous button
            if (currentQuestion > 0) {
                document.getElementById('prevBtn').classList.remove('hidden');
            } else {
                document.getElementById('prevBtn').classList.add('hidden');
            }

            // Update next button text
            if (currentQuestion === questions.length - 1) {
                document.getElementById('nextBtn').textContent = 'SEE RESULTS ‚Üí';
            }

            // Restore previous answers
            if (answers[currentQuestion]) {
                const savedAnswers = answers[currentQuestion];
                if (Array.isArray(savedAnswers)) {
                    savedAnswers.forEach(idx => {
                        document.getElementById('option' + idx).checked = true;
                        document.querySelectorAll('.option')[idx].classList.add('selected');
                    });
                } else {
                    document.getElementById('option' + savedAnswers).checked = true;
                    document.querySelectorAll('.option')[savedAnswers].classList.add('selected');
                }
                document.getElementById('nextBtn').disabled = false;
            } else {
                document.getElementById('nextBtn').disabled = true;
            }
        }

        function selectOption(index, type) {
            const options = document.querySelectorAll('.option');
            
            if (type === 'radio') {
                options.forEach(opt => opt.classList.remove('selected'));
                options[index].classList.add('selected');
                document.getElementById('option' + index).checked = true;
                answers[currentQuestion] = index;
            } else {
                options[index].classList.toggle('selected');
                const checkbox = document.getElementById('option' + index);
                checkbox.checked = !checkbox.checked;
                
                const selected = [];
                document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                    selected.push(parseInt(cb.value));
                });
                answers[currentQuestion] = selected;
            }

            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showEmailGate();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function showEmailGate() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('email-screen').classList.remove('hidden');
            document.getElementById('progress').style.width = '100%';
        }

        function submitEmail() {
            const email = document.getElementById('emailInput').value;
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email address');
                return;
            }

            // Show loading
            document.getElementById('email-screen').classList.add('hidden');
            document.getElementById('loading-screen').classList.remove('hidden');

            // Calculate scores
            calculateScores();

            // Simulate processing time
            setTimeout(() => {
                showResults();
            }, 2000);
        }

        function calculateScores() {
            scores = { anxious: 0, avoidant: 0, secure: 0 };

            answers.forEach((answer, qIndex) => {
                const question = questions[qIndex];
                
                if (Array.isArray(answer)) {
                    // Checkbox question
                    answer.forEach(optionIndex => {
                        const option = question.options[optionIndex];
                        if (option.anxious) scores.anxious += option.anxious;
                        if (option.avoidant) scores.avoidant += option.avoidant;
                        if (option.secure) scores.secure += option.secure;
                    });
                } else {
                    // Radio question
                    const option = question.options[answer];
                    if (option.anxious) scores.anxious += option.anxious;
                    if (option.avoidant) scores.avoidant += option.avoidant;
                    if (option.secure) scores.secure += option.secure;
                }
            });
        }

        function showResults() {
            document.getElementById('loading-screen').classList.add('hidden');
            document.getElementById('results-screen').classList.remove('hidden');

            document.getElementById('anxiousScore').textContent = scores.anxious;
            document.getElementById('avoidantScore').textContent = scores.avoidant;
            document.getElementById('secureScore').textContent = scores.secure;

            let resultTitle = '';
            let resultDescription = '';

            // Calculate absolute difference for trap vs fearful-avoidant
            const anxiousAvoidantDiff = Math.abs(scores.anxious - scores.avoidant);

            // ‚úÖ CORRECTED 6-PATTERN LOGIC (using dominance + balance)
            
            // Pattern 1: Classic Anxious
            if (scores.anxious >= 25 && scores.anxious > scores.avoidant && scores.avoidant < 15) {
                resultTitle = "üü¢ Classic Anxious Attachment";
                resultDescription = `
                    <h3>"You're the chaser."</h3>
                    <p><strong>You don't want too much. You want consistency.</strong></p>
                    
                    <h3>When someone pulls away:</h3>
                    <ul>
                        <li>Your body goes into alarm</li>
                        <li>Your thoughts spiral</li>
                        <li>You feel like you must do something right now</li>
                    </ul>
                    <p>So you text. You overgive. You try to earn safety.</p>
                    <p><strong>This is not insecurity. It's a nervous system that learned love disappears.</strong></p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Regulate before you relate.</strong></p>
                    <p>When you feel triggered:</p>
                    <ol>
                        <li>Pause 20 minutes</li>
                        <li>Breathe, walk, move your body</li>
                        <li>Then communicate calmly</li>
                    </ol>
                    <p><strong>When your body feels safe, you stop chasing.</strong></p>
                `;
            }
            
            // Pattern 2: Classic Avoidant
            else if (scores.avoidant >= 25 && scores.avoidant > scores.anxious && scores.anxious < 15) {
                resultTitle = "üîµ Avoidant Attachment";
                resultDescription = `
                    <h3>"You pull away when it gets real."</h3>
                    <p><strong>You don't hate intimacy. You hate losing yourself in it.</strong></p>
                    
                    <h3>When someone gets close:</h3>
                    <ul>
                        <li>You feel pressure</li>
                        <li>You feel trapped</li>
                        <li>You shut down</li>
                    </ul>
                    <p>So you create distance to feel safe.</p>
                    <p><strong>You learned: closeness = danger</strong></p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Stay when the urge is to run.</strong></p>
                    <p>When you feel the urge to disappear:</p>
                    <ul>
                        <li>Don't ghost</li>
                        <li>Don't shut down</li>
                        <li>Just slow down and stay present</li>
                    </ul>
                    <p><strong>Your nervous system has to learn: closeness is not loss of freedom.</strong></p>
                `;
            }
            
            // Pattern 3: Anxious-Avoidant Trap (interpersonal war)
            else if (scores.anxious >= 20 && scores.avoidant >= 20 && anxiousAvoidantDiff >= 5) {
                resultTitle = "üö® The Anxious-Avoidant Trap";
                resultDescription = `
                    <h3>"One chases. One runs."</h3>
                    <p><strong>This isn't incompatibility. It's a nervous system loop.</strong></p>
                    
                    <p>One partner needs closeness. The other needs space.</p>
                    <p>The more one moves forward, the more the other pulls away.</p>
                    <p><strong>No one feels safe.</strong></p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Break the cycle, not fix each other.</strong></p>
                    <p>The anxious must stop chasing. The avoidant must stop disappearing.</p>
                    <p><strong>If the pattern doesn't change, the relationship never will.</strong></p>
                    
                    <h3>Watch These Episodes:</h3>
                    <ul>
                        <li>Episode 6: The Anxious-Avoidant Death Wheel</li>
                        <li>Episode 9: Can They Actually Change?</li>
                        <li>Episode 10: What I Wish I Knew Before I Wasted Years</li>
                        <li>Episode 11: The One Sign It's Time to Leave</li>
                    </ul>
                `;
            }
            
            // Pattern 4: Fearful-Avoidant (disorganized - internal war)
            else if (scores.anxious >= 15 && scores.anxious <= 24 && 
                     scores.avoidant >= 15 && scores.avoidant <= 24 && 
                     anxiousAvoidantDiff <= 4) {
                resultTitle = "‚ö° Fearful-Avoidant (Disorganized)";
                resultDescription = `
                    <h3>"You want love‚Ä¶ and it terrifies you."</h3>
                    <p><strong>You crave connection. Then feel overwhelmed. Then pull away. Then panic about losing them.</strong></p>
                    
                    <p>It feels like two people inside one body.</p>
                    <p><strong>That's trauma ‚Äî not weakness.</strong></p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Inner safety before outer love.</strong></p>
                    <p>You must heal:</p>
                    <ul>
                        <li>Abandonment wounds</li>
                        <li>Fear of being trapped</li>
                    </ul>
                    <p><strong>Your nervous system needs to learn: intimacy is safe.</strong></p>
                    
                    <h3>This Requires Professional Help:</h3>
                    <p>Trauma-informed therapy, somatic work (EMDR, IFS), and nervous system regulation are essential.</p>
                `;
            }
            
            // Pattern 5: Secure (but partner isn't)
            else if (scores.secure >= 15 && scores.secure > scores.anxious && scores.secure > scores.avoidant) {
                resultTitle = "üü£ Secure ‚Äî But Your Partner Isn't";
                resultDescription = `
                    <h3>You can:</h3>
                    <ul>
                        <li>Communicate</li>
                        <li>Give space</li>
                        <li>Stay grounded</li>
                    </ul>
                    <p><strong>But the relationship still feels unstable.</strong></p>
                    <p>That's because you're not the problem.</p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Boundaries, not rescue.</strong></p>
                    <p>You don't fix people. You choose partners who can meet you.</p>
                    
                    <h3>The Question:</h3>
                    <p>Are you happy with THIS version of them?</p>
                    <p>Or are you waiting for who they could become?</p>
                    <p><strong>If it's the second one ‚Äî you're setting yourself up for disappointment.</strong></p>
                `;
            }
            
            // Pattern 6: Becoming Secure (healing in progress)
            else if (scores.secure >= 10 && scores.secure <= 14 &&
                     scores.anxious >= 10 && scores.anxious <= 19 &&
                     scores.avoidant >= 10 && scores.avoidant <= 19 &&
                     scores.anxious < 25 && scores.avoidant < 25) {
                resultTitle = "üü° Becoming Secure (Healing in Progress)";
                resultDescription = `
                    <h3>You still get triggered sometimes. You still feel old patterns.</h3>
                    <p><strong>But now:</strong></p>
                    <ul>
                        <li>You pause</li>
                        <li>You self-soothe</li>
                        <li>You choose differently</li>
                    </ul>
                    <p><strong>That's healing.</strong></p>
                    
                    <h3>What You Need:</h3>
                    <p><strong>Consistency.</strong></p>
                    <p>Keep calming your nervous system. Keep choosing secure behavior.</p>
                    <p><strong>This is how attachment rewires.</strong></p>
                    
                    <h3>Signs You're On The Right Path:</h3>
                    <ul>
                        <li>Discomfort ‚â† danger</li>
                        <li>Needs ‚â† needy</li>
                        <li>Boundaries ‚â† mean</li>
                        <li>Walking away ‚â† failure</li>
                    </ul>
                `;
            }
            
            // Default fallback (for edge cases)
            else {
                // Check for avoidant-leaning patterns (like Anxious 6, Avoidant 16, Secure 8)
                if (scores.avoidant > scores.anxious && scores.avoidant > scores.secure) {
                    resultTitle = "üîµ Avoidant-Leaning Pattern";
                    resultDescription = `
                        <h3>Your dominant pattern is avoidant.</h3>
                        <p><strong>Anxious: ${scores.anxious}/45 | Avoidant: ${scores.avoidant}/42 | Secure: ${scores.secure}/25</strong></p>
                        
                        <p>You're showing avoidant tendencies ‚Äî pulling away when things get close, needing space to feel safe.</p>
                        
                        <h3>What This Means:</h3>
                        <p>You may not be high enough to be "classic avoidant," but avoidance is your dominant strategy. You're likely:</p>
                        <ul>
                            <li>Uncomfortable with intimacy</li>
                            <li>Valuing independence over connection</li>
                            <li>Creating distance when partners get close</li>
                        </ul>
                        
                        <p><strong>This is NOT "becoming secure." This is early-stage avoidance.</strong></p>
                        
                        <h3>What You Need:</h3>
                        <p>Practice staying present when the urge is to run. Work on tolerating vulnerability and closeness.</p>
                    `;
                } else if (scores.anxious > scores.avoidant && scores.anxious > scores.secure) {
                    resultTitle = "üü¢ Anxious-Leaning Pattern";
                    resultDescription = `
                        <h3>Your dominant pattern is anxious.</h3>
                        <p><strong>Anxious: ${scores.anxious}/45 | Avoidant: ${scores.avoidant}/42 | Secure: ${scores.secure}/25</strong></p>
                        
                        <p>You're showing anxious tendencies ‚Äî seeking reassurance, fearing abandonment, overthinking.</p>
                        
                        <h3>What This Means:</h3>
                        <p>You may not be high enough to be "classic anxious," but anxiety is your dominant strategy. You're likely:</p>
                        <ul>
                            <li>Checking phone frequently</li>
                            <li>Needing reassurance from partners</li>
                            <li>Feeling insecure in relationships</li>
                        </ul>
                        
                        <h3>What You Need:</h3>
                        <p>Practice self-soothing before reaching out. Build internal security rather than seeking it externally.</p>
                    `;
                } else {
                    resultTitle = "Your Pattern Is Complex";
                    resultDescription = `
                        <h3>Your scores show a mixed pattern.</h3>
                        <p><strong>Anxious: ${scores.anxious}/45 | Avoidant: ${scores.avoidant}/42 | Secure: ${scores.secure}/25</strong></p>
                        
                        <p>You don't fit cleanly into one category, which is actually common. You may be:</p>
                        <ul>
                            <li>In transition between patterns</li>
                            <li>Context-dependent (secure with some, insecure with others)</li>
                            <li>Still learning your attachment style</li>
                        </ul>
                        
                        <p>Consider working with a therapist who specializes in attachment theory to understand your unique combination.</p>
                    `;
                }
            }

            document.getElementById('resultTitle').textContent = resultTitle;
            document.getElementById('resultDescription').innerHTML = resultDescription;
        }
    </script>
</body>
</html>
